(this["webpackJsonpmine-sweeper"]=this["webpackJsonpmine-sweeper"]||[]).push([[0],{22:function(e,t,n){},23:function(e,t,n){},24:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(16),r=n.n(c),s=(n(22),n(5)),o=n(10),i=n(2);n(23),n(24);function u(e,t,n){for(var a=[],c=0;c<t;c++){for(var r=[],s=0;s<e;s++)r.push(n);a.push(r)}return a}function l(e,t,n,a,c){a(c.map((function(a,c){return c==t&&(a[e]=n),a})))}var j=n(1);function b(e){var t=e.location,n=e.history,c=t.state,r=c.diff,i=c.cursor,b=(c.func,Object(s.a)(r,3)),f=b[0],d=b[1],h=b[2];console.log(f*d<400?f*d/4:100),console.log(e),h>0&&h<(f*d<400?f*d/4:100)&&f>8&&f<101&&d>8&&d<101||n.push("/");var m=Object(a.useState)(u(f,d,"cover")),O=Object(s.a)(m,2),v=O[0],p=O[1],x=Object(a.useState)(function(e,t,n){for(var a=u(e,t,0),c=0;c<n;c++){for(var r=Math.floor(Math.random()*e),s=Math.floor(Math.random()*t);"m"==a[s][r];)r=Math.floor(Math.random()*e),s=Math.floor(Math.random()*t);for(var o=-1;o<=1;o++)for(var i=-1;i<=1;i++)void 0===a[s+o]||isNaN(a[s+o][r+i])||(a[s+o][r+i]+=1);a[s][r]="m"}return a}(f,d,h)),w=Object(s.a)(x,1)[0],g=Object(a.useState)(""),k=Object(s.a)(g,2),N=k[0],y=k[1],M=Object(a.useState)([f*d,0,0]),S=Object(s.a)(M,2),C=(S[0],S[1]);Object(a.useEffect)((function(){var e=0,t=0,n=0;v.forEach((function(a){a.forEach((function(a){switch(a){case"cover":e++;break;case"m":case"flag":t++;break;case"mark":n++}}))})),C([e,t,n]),"burst"!==N&&e+t==h&&F()}),[v]);var E=function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(void 0==w[n])return!1;if("cover"!==v[n][t])return!1;switch(w[n][t]){case void 0:break;case"m":a||(D(),p(w));break;case 0:l(t,n,w[n][t],p,v);for(var c=-1;c<=1;c++)for(var r=-1;r<=1;r++)e(t+c,n+r,!0);break;default:l(t,n,w[n][t],p,v)}},I=function(e,t,n,a){if(a.preventDefault(),"cover"!==v[t][e]&&"flag"!==v[t][e]&&"mark"!==v[t][e])return!1;switch(n){case"open":E(e,t);break;default:l(e,t,n,p,v)}},D=function(){y("burst"),console.log("burst")},F=function(){y("win"),console.log("win")},B=v.map((function(e,t){return Object(j.jsx)("div",{className:"row-"+t,children:e.map((function(e,n){return Object(j.jsx)("div",{className:"col-"+n,children:Object(j.jsx)("button",{type:"button",onClick:function(e){return I(n,t,i,e)},onContextMenu:function(e){!function(e,t,n){switch(n.preventDefault(),v[t][e]){case"cover":l(e,t,"flag",p,v);break;case"flag":l(e,t,"mark",p,v);break;case"mark":l(e,t,"cover",p,v)}}(n,t,e)},"data-value":e,children:Object(j.jsx)("span",{children:v[t][n]})})},t+"-"+n)}))},t)}));return Object(j.jsxs)("div",{className:"mine-field","data-cursor":i,"data-size":f>60?"xl":f>40?"l":f>20?"m":"s",children:[B,Object(j.jsx)("div",{className:"result "+N,children:Object(j.jsxs)("div",{children:[Object(j.jsx)("span",{children:"burst"==N?"You Burst":"You Win!"}),Object(j.jsxs)("span",{children:[Object(j.jsx)("button",{type:"button",onClick:function(){return window.location.reload()},children:"burst"==N?"Retry":"new game"}),Object(j.jsx)(o.b,{to:"/mine-sweeper/",children:Object(j.jsx)("button",{type:"button",children:"Go Home"})})]})]})})]})}n(31);function f(e){var t=e.diff,n=e.setDiff,c=e.children,r=Object(a.useState)(t[0]),o=Object(s.a)(r,2),i=o[0],u=o[1],l=Object(a.useState)(t[1]),b=Object(s.a)(l,2),f=b[0],d=b[1],h=Object(a.useState)(t[2]),m=Object(s.a)(h,2),O=m[0],v=m[1];Object(a.useEffect)((function(){n([parseInt(i),parseInt(f),parseInt(O)])}),[i,f,O]);var p=function(e){switch(e.target.name){case"row":u(e.target.value);break;case"col":d(e.target.value);break;case"amt":v(e.target.value)}};return Object(j.jsx)("div",{className:"setting",children:Object(j.jsxs)("div",{className:"diffForm",children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{htmlFor:"row",children:"\uac00\ub85c \uac1c\uc218(9~100)"}),Object(j.jsx)("input",{name:"row",type:"number",min:"9",max:"100",value:i,onChange:p})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{htmlFor:"col",children:"\uc138\ub85c \uac1c\uc218(9~100)"}),Object(j.jsx)("input",{name:"col",type:"number",min:"9",max:"100",value:f,onChange:p})]}),Object(j.jsxs)("div",{children:[Object(j.jsxs)("label",{htmlFor:"amt",children:["\uc9c0\ub8b0 \uac1c\uc218(","1~"+(i*f<400?parseInt(i*f/4):100),")"]}),Object(j.jsx)("input",{name:"amt",type:"number",min:"1",max:i*f<400?i*f/4:100,value:O,onChange:p})]}),c]})})}var d=function(){var e=Object(a.useState)([10,10,10]),t=Object(s.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)([]),u=Object(s.a)(r,2);return u[0],u[1],Object(j.jsx)("div",{className:"mine-sweeper",children:Object(j.jsxs)(o.a,{children:[Object(j.jsx)("header",{className:"header"}),Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)(i.a,{exact:!0,path:"/mine-sweeper/",children:Object(j.jsx)(f,{diff:n,setDiff:c,children:Object(j.jsx)(o.b,{to:{pathname:"/mine-sweeper/game",state:{diff:n,cursor:"open",func:void 0}},children:"\uac8c\uc784\uc2dc\uc791"})})}),Object(j.jsx)(i.a,{path:"/mine-sweeper/game",component:b})]})]})})};r.a.render(Object(j.jsx)(d,{}),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.a70e4d23.chunk.js.map