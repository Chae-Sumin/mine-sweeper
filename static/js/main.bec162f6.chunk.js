(this["webpackJsonpmine-sweeper"]=this["webpackJsonpmine-sweeper"]||[]).push([[0],{22:function(e,t,a){},23:function(e,t,a){},24:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a(16),r=a.n(n),s=(a(22),a(5)),o=a(10),i=a(2);a(23),a(24);function u(e,t,a){for(var c=[],n=0;n<t;n++){for(var r=[],s=0;s<e;s++)r.push(a);c.push(r)}return c}function l(e,t,a,c,n){c(n.map((function(c,n){return n==t&&(c[e]=a),c})))}var j=a(1);function b(e){var t=e.location,a=e.history,n=t.state,r=n.diff,i=n.cursor,b=(n.func,Object(s.a)(r,3)),f=b[0],d=b[1],h=b[2];console.log(f*d<400?f*d/4:100),console.log(e),h>0&&h<(f*d<400?f*d/4:100)&&f>8&&f<101&&d>8&&d<101||a.push("/");var m=Object(c.useState)(u(f,d,"cover")),O=Object(s.a)(m,2),v=O[0],p=O[1],x=Object(c.useState)(function(e,t,a){for(var c=u(e,t,0),n=0;n<a;n++){for(var r=Math.floor(Math.random()*e),s=Math.floor(Math.random()*t);"m"==c[s][r];)r=Math.floor(Math.random()*e),s=Math.floor(Math.random()*t);for(var o=-1;o<=1;o++)for(var i=-1;i<=1;i++)void 0===c[s+o]||isNaN(c[s+o][r+i])||(c[s+o][r+i]+=1);c[s][r]="m"}return c}(f,d,h)),g=Object(s.a)(x,1)[0],w=Object(c.useState)(""),k=Object(s.a)(w,2),N=k[0],y=k[1],M=Object(c.useState)([f*d,0,0]),S=Object(s.a)(M,2),C=(S[0],S[1]);Object(c.useEffect)((function(){var e=0,t=0,a=0;v.forEach((function(c){c.forEach((function(c){switch(c){case"cover":e++;break;case"m":case"flag":t++;break;case"mark":a++}}))})),C([e,t,a]),"burst"!==N&&e+t==h&&F()}),[v]);var E=function e(t,a){var c=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(void 0==g[a])return!1;if("cover"!==v[a][t])return!1;switch(g[a][t]){case void 0:break;case"m":c||(D(),p(g));break;case 0:l(t,a,g[a][t],p,v);for(var n=-1;n<=1;n++)for(var r=-1;r<=1;r++)e(t+n,a+r,!0);break;default:l(t,a,g[a][t],p,v)}},I=function(e,t,a,c){if(c.preventDefault(),"cover"!==v[t][e]&&"flag"!==v[t][e]&&"mark"!==v[t][e])return!1;switch(a){case"open":E(e,t);break;default:l(e,t,a,p,v)}},D=function(){y("burst"),console.log("burst")},F=function(){y("win"),console.log("win")},B=v.map((function(e,t){return Object(j.jsx)("div",{className:"row-"+t,children:e.map((function(e,a){return Object(j.jsx)("div",{className:"col-"+a,children:Object(j.jsx)("button",{type:"button",onClick:function(e){return I(a,t,i,e)},onContextMenu:function(e){!function(e,t,a){switch(a.preventDefault(),v[t][e]){case"cover":l(e,t,"flag",p,v);break;case"flag":l(e,t,"mark",p,v);break;case"mark":l(e,t,"cover",p,v)}}(a,t,e)},"data-value":e,children:Object(j.jsx)("span",{children:v[t][a]})})},t+"-"+a)}))},t)}));return Object(j.jsxs)("div",{className:"mine-field","data-cursor":i,"data-size":f>60?"xl":f>40?"l":f>20?"m":"s",children:[B,Object(j.jsx)("div",{className:"result "+N,children:Object(j.jsxs)("div",{children:[Object(j.jsx)("span",{children:"burst"==N?"You Burst":"You Win!"}),Object(j.jsxs)("span",{children:[Object(j.jsx)("button",{type:"button",onClick:function(){return window.location.reload()},children:"burst"==N?"Retry":"new game"}),Object(j.jsx)(o.b,{to:"/",children:Object(j.jsx)("button",{type:"button",children:"Go Home"})})]})]})})]})}a(31);function f(e){var t=e.diff,a=e.setDiff,n=e.children,r=Object(c.useState)(t[0]),o=Object(s.a)(r,2),i=o[0],u=o[1],l=Object(c.useState)(t[1]),b=Object(s.a)(l,2),f=b[0],d=b[1],h=Object(c.useState)(t[2]),m=Object(s.a)(h,2),O=m[0],v=m[1];Object(c.useEffect)((function(){a([parseInt(i),parseInt(f),parseInt(O)])}),[i,f,O]);var p=function(e){switch(e.target.name){case"row":u(e.target.value);break;case"col":d(e.target.value);break;case"amt":v(e.target.value)}};return Object(j.jsx)("div",{className:"setting",children:Object(j.jsxs)("div",{className:"diffForm",children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{htmlFor:"row",children:"\uac00\ub85c \uac1c\uc218(9~100)"}),Object(j.jsx)("input",{name:"row",type:"number",min:"9",max:"100",value:i,onChange:p})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{htmlFor:"col",children:"\uc138\ub85c \uac1c\uc218(9~100)"}),Object(j.jsx)("input",{name:"col",type:"number",min:"9",max:"100",value:f,onChange:p})]}),Object(j.jsxs)("div",{children:[Object(j.jsxs)("label",{htmlFor:"amt",children:["\uc9c0\ub8b0 \uac1c\uc218(","1~"+(i*f<400?parseInt(i*f/4):100),")"]}),Object(j.jsx)("input",{name:"amt",type:"number",min:"1",max:i*f<400?i*f/4:100,value:O,onChange:p})]}),n]})})}var d=function(){var e=Object(c.useState)([10,10,10]),t=Object(s.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)([]),u=Object(s.a)(r,2);return u[0],u[1],Object(j.jsx)("div",{className:"mine-sweeper",children:Object(j.jsxs)(o.a,{children:[Object(j.jsx)("header",{className:"header"}),Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)(i.a,{exact:!0,path:"/",children:Object(j.jsx)(f,{diff:a,setDiff:n,children:Object(j.jsx)(o.b,{to:{pathname:"/game",state:{diff:a,cursor:"open",func:void 0}},children:"\uac8c\uc784\uc2dc\uc791"})})}),Object(j.jsx)(i.a,{path:"/game",component:b})]})]})})};r.a.render(Object(j.jsx)(d,{}),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.bec162f6.chunk.js.map